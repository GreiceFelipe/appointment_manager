<section class="section">
  <% if notice.present? %>
    <div class="notification is-info is-light">
      <p id="notice"><%= notice %></p>
    </div>
  <% end %>

  <div class="container column is-half is-mobile">
    <h1 class="is-size-3 is-size-4-mobile has-text-centered"> <i class="far fa-calendar-check"></i> Appointments</h1>
  </div>

  <div class="column is-mobile">
    <div class="column is-10 is-offset-2">
      
       <div class="column is-2">
        <%= link_to 'New Appointment', new_appointment_path, class: "button is-fullwidth is-rounded is-outlined is-primary" %>
      </div>
      
      <br>

      <div class="table-container">
        <table class="table is-striped">
          <thead>
            <tr>
              <th>Starts at</th>
              <th>Ends at</th>
              <th>Patient</th>
              <th>Doctor</th>
              <th colspan="1"></th>
            </tr>
          </thead>

          <tbody>
            <% @appointments.each do |appointment| %>
              <tr>
                <td><%= appointment.starts_at.strftime("%d/%m/%y -  %H:%M") %></td>
                <td><%= appointment.ends_at.strftime("%d/%m/%y - %H:%M") %></td>
                <td><%= appointment.patient.name %></td>
                <td><%= appointment.doctor.name %></td>
                <td><%= link_to 'Edit', edit_appointment_path(appointment), class: "button is-fullwidth is-rounded is-outlined is-info" %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>  
    </div>  
  </div>  
</section>
